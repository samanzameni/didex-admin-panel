/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, Input, ViewEncapsulation } from '@angular/core';
import { NgbDatepicker } from './datepicker';
import { NgbDatepickerI18n } from './datepicker-i18n';
import { NgbDatepickerKeyboardService } from './datepicker-keyboard-service';
import { NgbDatepickerService } from './datepicker-service';
/**
 * A component that renders one month including all the days, weekdays and week numbers. Can be used inside
 * the `<ng-template ngbDatepickerMonths></ng-template>` when you want to customize months layout.
 *
 * For a usage example, see [custom month layout demo](#/components/datepicker/examples#custommonth)
 *
 * \@since 5.3.0
 */
import * as ɵngcc0 from '@angular/core';
import * as ɵngcc1 from '@angular/common';

const _c0 = ["role", "grid"];
const _c1 = ["class", "ngb-dp-week ngb-dp-weekdays", "role", "row", 4, "ngIf"];
const _c2 = ["ngFor", "", 3, "ngForOf"];
const _c3 = ["role", "row", 1, "ngb-dp-week", "ngb-dp-weekdays"];
const _c4 = ["class", "ngb-dp-weekday ngb-dp-showweek", 4, "ngIf"];
const _c5 = ["class", "ngb-dp-weekday small", "role", "columnheader", 4, "ngFor", "ngForOf"];
const _c6 = [1, "ngb-dp-weekday", "ngb-dp-showweek"];
function NgbDatepickerMonth_div_0_div_1_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelement(0, "div", _c6);
} }
const _c7 = ["role", "columnheader", 1, "ngb-dp-weekday", "small"];
function NgbDatepickerMonth_div_0_div_2_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div", _c7);
    ɵngcc0.ɵɵtext(1);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const w_r679 = ctx.$implicit;
    const ctx_r678 = ɵngcc0.ɵɵnextContext(2);
    ɵngcc0.ɵɵselect(1);
    ɵngcc0.ɵɵtextInterpolate1(" ", ctx_r678.i18n.getWeekdayShortName(w_r679), " ");
} }
function NgbDatepickerMonth_div_0_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div", _c3);
    ɵngcc0.ɵɵtemplate(1, NgbDatepickerMonth_div_0_div_1_Template, 1, 0, "div", _c4);
    ɵngcc0.ɵɵtemplate(2, NgbDatepickerMonth_div_0_div_2_Template, 2, 1, "div", _c5);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r675 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵselect(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r675.datepicker.showWeekNumbers);
    ɵngcc0.ɵɵselect(2);
    ɵngcc0.ɵɵproperty("ngForOf", ctx_r675.viewModel.weekdays);
} }
const _c8 = ["class", "ngb-dp-week", "role", "row", 4, "ngIf"];
const _c9 = ["role", "row", 1, "ngb-dp-week"];
const _c10 = ["class", "ngb-dp-week-number small text-muted", 4, "ngIf"];
const _c11 = ["class", "ngb-dp-day", "role", "gridcell", 3, "disabled", "tabindex", "hidden", "ngb-dp-today", "click", 4, "ngFor", "ngForOf"];
const _c12 = [1, "ngb-dp-week-number", "small", "text-muted"];
function NgbDatepickerMonth_ng_template_1_div_0_div_1_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div", _c12);
    ɵngcc0.ɵɵtext(1);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const week_r680 = ɵngcc0.ɵɵnextContext(2).$implicit;
    const ctx_r682 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵselect(1);
    ɵngcc0.ɵɵtextInterpolate(ctx_r682.i18n.getWeekNumerals(week_r680.number));
} }
const _c13 = ["role", "gridcell", 1, "ngb-dp-day", 3, "tabindex", "click"];
const _c14 = [3, "ngIf"];
const _c15 = [3, "ngTemplateOutlet", "ngTemplateOutletContext"];
function NgbDatepickerMonth_ng_template_1_div_0_div_2_ng_template_1_ng_template_0_Template(rf, ctx) { }
function NgbDatepickerMonth_ng_template_1_div_0_div_2_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵtemplate(0, NgbDatepickerMonth_ng_template_1_div_0_div_2_ng_template_1_ng_template_0_Template, 0, 0, "ng-template", _c15);
} if (rf & 2) {
    const day_r685 = ɵngcc0.ɵɵnextContext().$implicit;
    const ctx_r686 = ɵngcc0.ɵɵnextContext(3);
    ɵngcc0.ɵɵproperty("ngTemplateOutlet", ctx_r686.datepicker.dayTemplate)("ngTemplateOutletContext", day_r685.context);
} }
function NgbDatepickerMonth_ng_template_1_div_0_div_2_Template(rf, ctx) { if (rf & 1) {
    const _r690 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "div", _c13);
    ɵngcc0.ɵɵstyling();
    ɵngcc0.ɵɵlistener("click", function NgbDatepickerMonth_ng_template_1_div_0_div_2_Template_div_click_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r690); const day_r685 = ctx.$implicit; const ctx_r689 = ɵngcc0.ɵɵnextContext(3); ctx_r689.doSelect(day_r685); return $event.preventDefault(); });
    ɵngcc0.ɵɵtemplate(1, NgbDatepickerMonth_ng_template_1_div_0_div_2_ng_template_1_Template, 1, 2, "ng-template", _c14);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const day_r685 = ctx.$implicit;
    ɵngcc0.ɵɵclassProp("disabled", day_r685.context.disabled);
    ɵngcc0.ɵɵclassProp("hidden", day_r685.hidden);
    ɵngcc0.ɵɵclassProp("ngb-dp-today", day_r685.context.today);
    ɵngcc0.ɵɵstylingApply();
    ɵngcc0.ɵɵproperty("tabindex", day_r685.tabindex);
    ɵngcc0.ɵɵattribute("aria-label", day_r685.ariaLabel);
    ɵngcc0.ɵɵselect(1);
    ɵngcc0.ɵɵproperty("ngIf", !day_r685.hidden);
} }
function NgbDatepickerMonth_ng_template_1_div_0_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div", _c9);
    ɵngcc0.ɵɵtemplate(1, NgbDatepickerMonth_ng_template_1_div_0_div_1_Template, 2, 1, "div", _c10);
    ɵngcc0.ɵɵtemplate(2, NgbDatepickerMonth_ng_template_1_div_0_div_2_Template, 2, 6, "div", _c11);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const week_r680 = ɵngcc0.ɵɵnextContext().$implicit;
    const ctx_r681 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵselect(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r681.datepicker.showWeekNumbers);
    ɵngcc0.ɵɵselect(2);
    ɵngcc0.ɵɵproperty("ngForOf", week_r680.days);
} }
function NgbDatepickerMonth_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵtemplate(0, NgbDatepickerMonth_ng_template_1_div_0_Template, 3, 2, "div", _c8);
} if (rf & 2) {
    const week_r680 = ctx.$implicit;
    ɵngcc0.ɵɵproperty("ngIf", !week_r680.collapsed);
} }
var NgbDatepickerMonth = /** @class */ (function () {
    function NgbDatepickerMonth(i18n, datepicker, _keyboardService, _service) {
        this.i18n = i18n;
        this.datepicker = datepicker;
        this._keyboardService = _keyboardService;
        this._service = _service;
    }
    Object.defineProperty(NgbDatepickerMonth.prototype, "month", {
        /**
         * The first date of month to be rendered.
         *
         * This month must one of the months present in the
         * [datepicker state](#/components/datepicker/api#NgbDatepickerState).
         */
        set: /**
         * The first date of month to be rendered.
         *
         * This month must one of the months present in the
         * [datepicker state](#/components/datepicker/api#NgbDatepickerState).
         * @param {?} month
         * @return {?}
         */
        function (month) {
            this.viewModel = this._service.getMonth(month);
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @param {?} event
     * @return {?}
     */
    NgbDatepickerMonth.prototype.onKeyDown = /**
     * @param {?} event
     * @return {?}
     */
    function (event) { this._keyboardService.processKey(event, this.datepicker); };
    /**
     * @param {?} day
     * @return {?}
     */
    NgbDatepickerMonth.prototype.doSelect = /**
     * @param {?} day
     * @return {?}
     */
    function (day) {
        if (!day.context.disabled && !day.hidden) {
            this.datepicker.onDateSelect(day.date);
        }
    };
    /** @nocollapse */
    NgbDatepickerMonth.ctorParameters = function () { return [
        { type: NgbDatepickerI18n },
        { type: NgbDatepicker },
        { type: NgbDatepickerKeyboardService },
        { type: NgbDatepickerService }
    ]; };
    NgbDatepickerMonth.propDecorators = {
        month: [{ type: Input }]
    };
NgbDatepickerMonth.ngComponentDef = ɵngcc0.ɵɵdefineComponent({ type: NgbDatepickerMonth, selectors: [["ngb-datepicker-month"]], factory: function NgbDatepickerMonth_Factory(t) { return new (t || NgbDatepickerMonth)(ɵngcc0.ɵɵdirectiveInject(NgbDatepickerI18n), ɵngcc0.ɵɵdirectiveInject(NgbDatepicker), ɵngcc0.ɵɵdirectiveInject(NgbDatepickerKeyboardService), ɵngcc0.ɵɵdirectiveInject(NgbDatepickerService)); }, hostBindings: function NgbDatepickerMonth_HostBindings(rf, ctx, elIndex) { if (rf & 1) {
        ɵngcc0.ɵɵlistener("keydown", function NgbDatepickerMonth_keydown_HostBindingHandler($event) { return ctx.onKeyDown($event); });
        ɵngcc0.ɵɵelementHostAttrs(_c0);
    } }, inputs: { month: "month" }, consts: 2, vars: 2, template: function NgbDatepickerMonth_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵtemplate(0, NgbDatepickerMonth_div_0_Template, 3, 2, "div", _c1);
        ɵngcc0.ɵɵtemplate(1, NgbDatepickerMonth_ng_template_1_Template, 1, 1, "ng-template", _c2);
    } if (rf & 2) {
        ɵngcc0.ɵɵproperty("ngIf", ctx.datepicker.showWeekdays);
        ɵngcc0.ɵɵselect(1);
        ɵngcc0.ɵɵproperty("ngForOf", ctx.viewModel.weeks);
    } }, directives: [ɵngcc1.NgIf, ɵngcc1.NgForOf, ɵngcc1.NgTemplateOutlet], styles: ["ngb-datepicker-month{display:block}.ngb-dp-week-number,.ngb-dp-weekday{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:#5bc0de;color:var(--info)}.ngb-dp-week{border-radius:.25rem;display:-ms-flexbox;display:flex}.ngb-dp-weekdays{border-bottom:1px solid rgba(0,0,0,.125);border-radius:0;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-day,.ngb-dp-week-number,.ngb-dp-weekday{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default}.ngb-dp-day[tabindex=\"0\"]{z-index:1}"], encapsulation: 2 });
/*@__PURE__*/ ɵngcc0.ɵsetClassMetadata(NgbDatepickerMonth, [{
        type: Component,
        args: [{
                selector: 'ngb-datepicker-month',
                host: { 'role': 'grid', '(keydown)': 'onKeyDown($event)' },
                encapsulation: ViewEncapsulation.None,
                template: "\n    <div *ngIf=\"datepicker.showWeekdays\" class=\"ngb-dp-week ngb-dp-weekdays\" role=\"row\">\n      <div *ngIf=\"datepicker.showWeekNumbers\" class=\"ngb-dp-weekday ngb-dp-showweek\"></div>\n      <div *ngFor=\"let w of viewModel.weekdays\" class=\"ngb-dp-weekday small\" role=\"columnheader\">\n        {{ i18n.getWeekdayShortName(w) }}\n      </div>\n    </div>\n    <ng-template ngFor let-week [ngForOf]=\"viewModel.weeks\">\n      <div *ngIf=\"!week.collapsed\" class=\"ngb-dp-week\" role=\"row\">\n        <div *ngIf=\"datepicker.showWeekNumbers\" class=\"ngb-dp-week-number small text-muted\">{{ i18n.getWeekNumerals(week.number) }}</div>\n        <div *ngFor=\"let day of week.days\" (click)=\"doSelect(day); $event.preventDefault()\" class=\"ngb-dp-day\" role=\"gridcell\"\n          [class.disabled]=\"day.context.disabled\"\n          [tabindex]=\"day.tabindex\"\n          [class.hidden]=\"day.hidden\"\n          [class.ngb-dp-today]=\"day.context.today\"\n          [attr.aria-label]=\"day.ariaLabel\">\n          <ng-template [ngIf]=\"!day.hidden\">\n            <ng-template [ngTemplateOutlet]=\"datepicker.dayTemplate\" [ngTemplateOutletContext]=\"day.context\"></ng-template>\n          </ng-template>\n        </div>\n      </div>\n    </ng-template>\n  ",
                styles: ["ngb-datepicker-month{display:block}.ngb-dp-week-number,.ngb-dp-weekday{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:#5bc0de;color:var(--info)}.ngb-dp-week{border-radius:.25rem;display:-ms-flexbox;display:flex}.ngb-dp-weekdays{border-bottom:1px solid rgba(0,0,0,.125);border-radius:0;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-day,.ngb-dp-week-number,.ngb-dp-weekday{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default}.ngb-dp-day[tabindex=\"0\"]{z-index:1}"]
            }]
    }], function () { return [{ type: NgbDatepickerI18n }, { type: NgbDatepicker }, { type: NgbDatepickerKeyboardService }, { type: NgbDatepickerService }]; }, { i18n: [], datepicker: [], _keyboardService: [], _service: [], month: [{
            type: Input
        }], onKeyDown: [], doSelect: [] });
    return NgbDatepickerMonth;
}());
export { NgbDatepickerMonth };
if (false) {
    /** @type {?} */
    NgbDatepickerMonth.prototype.viewModel;
    /** @type {?} */
    NgbDatepickerMonth.prototype.i18n;
    /** @type {?} */
    NgbDatepickerMonth.prototype.datepicker;
    /**
     * @type {?}
     * @private
     */
    NgbDatepickerMonth.prototype._keyboardService;
    /**
     * @type {?}
     * @private
     */
    NgbDatepickerMonth.prototype._service;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImQ6L0FuZ3VsYXIgUHJvamVjdC9EaWRleC9kaWRleC1hZG1pbi1wYW5lbC9ub2RlX21vZHVsZXMvQG5nLWJvb3RzdHJhcC9uZy1ib290c3RyYXAvZXNtNS9kYXRlcGlja2VyL2RhdGVwaWNrZXItbW9udGguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBaUJBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O01BaURNLEFBU0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzsyQ0FVQSIsImZpbGUiOiJkYXRlcGlja2VyLW1vbnRoLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEBmaWxlb3ZlcnZpZXcgYWRkZWQgYnkgdHNpY2tsZVxyXG4gKiBAc3VwcHJlc3Mge2NoZWNrVHlwZXMsY29uc3RhbnRQcm9wZXJ0eSxleHRyYVJlcXVpcmUsbWlzc2luZ092ZXJyaWRlLG1pc3NpbmdSZXR1cm4sdW51c2VkUHJpdmF0ZU1lbWJlcnMsdXNlbGVzc0NvZGV9IGNoZWNrZWQgYnkgdHNjXHJcbiAqL1xyXG5pbXBvcnQgeyBDb21wb25lbnQsIElucHV0LCBWaWV3RW5jYXBzdWxhdGlvbiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBOZ2JEYXRlcGlja2VyIH0gZnJvbSAnLi9kYXRlcGlja2VyJztcclxuaW1wb3J0IHsgTmdiRGF0ZXBpY2tlckkxOG4gfSBmcm9tICcuL2RhdGVwaWNrZXItaTE4bic7XHJcbmltcG9ydCB7IE5nYkRhdGVwaWNrZXJLZXlib2FyZFNlcnZpY2UgfSBmcm9tICcuL2RhdGVwaWNrZXIta2V5Ym9hcmQtc2VydmljZSc7XHJcbmltcG9ydCB7IE5nYkRhdGVwaWNrZXJTZXJ2aWNlIH0gZnJvbSAnLi9kYXRlcGlja2VyLXNlcnZpY2UnO1xyXG4vKipcclxuICogQSBjb21wb25lbnQgdGhhdCByZW5kZXJzIG9uZSBtb250aCBpbmNsdWRpbmcgYWxsIHRoZSBkYXlzLCB3ZWVrZGF5cyBhbmQgd2VlayBudW1iZXJzLiBDYW4gYmUgdXNlZCBpbnNpZGVcclxuICogdGhlIGA8bmctdGVtcGxhdGUgbmdiRGF0ZXBpY2tlck1vbnRocz48L25nLXRlbXBsYXRlPmAgd2hlbiB5b3Ugd2FudCB0byBjdXN0b21pemUgbW9udGhzIGxheW91dC5cclxuICpcclxuICogRm9yIGEgdXNhZ2UgZXhhbXBsZSwgc2VlIFtjdXN0b20gbW9udGggbGF5b3V0IGRlbW9dKCMvY29tcG9uZW50cy9kYXRlcGlja2VyL2V4YW1wbGVzI2N1c3RvbW1vbnRoKVxyXG4gKlxyXG4gKiBcXEBzaW5jZSA1LjMuMFxyXG4gKi9cclxudmFyIE5nYkRhdGVwaWNrZXJNb250aCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIE5nYkRhdGVwaWNrZXJNb250aChpMThuLCBkYXRlcGlja2VyLCBfa2V5Ym9hcmRTZXJ2aWNlLCBfc2VydmljZSkge1xyXG4gICAgICAgIHRoaXMuaTE4biA9IGkxOG47XHJcbiAgICAgICAgdGhpcy5kYXRlcGlja2VyID0gZGF0ZXBpY2tlcjtcclxuICAgICAgICB0aGlzLl9rZXlib2FyZFNlcnZpY2UgPSBfa2V5Ym9hcmRTZXJ2aWNlO1xyXG4gICAgICAgIHRoaXMuX3NlcnZpY2UgPSBfc2VydmljZTtcclxuICAgIH1cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOZ2JEYXRlcGlja2VyTW9udGgucHJvdG90eXBlLCBcIm1vbnRoXCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBUaGUgZmlyc3QgZGF0ZSBvZiBtb250aCB0byBiZSByZW5kZXJlZC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIFRoaXMgbW9udGggbXVzdCBvbmUgb2YgdGhlIG1vbnRocyBwcmVzZW50IGluIHRoZVxyXG4gICAgICAgICAqIFtkYXRlcGlja2VyIHN0YXRlXSgjL2NvbXBvbmVudHMvZGF0ZXBpY2tlci9hcGkjTmdiRGF0ZXBpY2tlclN0YXRlKS5cclxuICAgICAgICAgKi9cclxuICAgICAgICBzZXQ6IC8qKlxyXG4gICAgICAgICAqIFRoZSBmaXJzdCBkYXRlIG9mIG1vbnRoIHRvIGJlIHJlbmRlcmVkLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogVGhpcyBtb250aCBtdXN0IG9uZSBvZiB0aGUgbW9udGhzIHByZXNlbnQgaW4gdGhlXHJcbiAgICAgICAgICogW2RhdGVwaWNrZXIgc3RhdGVdKCMvY29tcG9uZW50cy9kYXRlcGlja2VyL2FwaSNOZ2JEYXRlcGlja2VyU3RhdGUpLlxyXG4gICAgICAgICAqIEBwYXJhbSB7P30gbW9udGhcclxuICAgICAgICAgKiBAcmV0dXJuIHs/fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIChtb250aCkge1xyXG4gICAgICAgICAgICB0aGlzLnZpZXdNb2RlbCA9IHRoaXMuX3NlcnZpY2UuZ2V0TW9udGgobW9udGgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0gez99IGV2ZW50XHJcbiAgICAgKiBAcmV0dXJuIHs/fVxyXG4gICAgICovXHJcbiAgICBOZ2JEYXRlcGlja2VyTW9udGgucHJvdG90eXBlLm9uS2V5RG93biA9IC8qKlxyXG4gICAgICogQHBhcmFtIHs/fSBldmVudFxyXG4gICAgICogQHJldHVybiB7P31cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gKGV2ZW50KSB7IHRoaXMuX2tleWJvYXJkU2VydmljZS5wcm9jZXNzS2V5KGV2ZW50LCB0aGlzLmRhdGVwaWNrZXIpOyB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0gez99IGRheVxyXG4gICAgICogQHJldHVybiB7P31cclxuICAgICAqL1xyXG4gICAgTmdiRGF0ZXBpY2tlck1vbnRoLnByb3RvdHlwZS5kb1NlbGVjdCA9IC8qKlxyXG4gICAgICogQHBhcmFtIHs/fSBkYXlcclxuICAgICAqIEByZXR1cm4gez99XHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIChkYXkpIHtcclxuICAgICAgICBpZiAoIWRheS5jb250ZXh0LmRpc2FibGVkICYmICFkYXkuaGlkZGVuKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0ZXBpY2tlci5vbkRhdGVTZWxlY3QoZGF5LmRhdGUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBOZ2JEYXRlcGlja2VyTW9udGguZGVjb3JhdG9ycyA9IFtcclxuICAgICAgICB7IHR5cGU6IENvbXBvbmVudCwgYXJnczogW3tcclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ25nYi1kYXRlcGlja2VyLW1vbnRoJyxcclxuICAgICAgICAgICAgICAgICAgICBob3N0OiB7ICdyb2xlJzogJ2dyaWQnLCAnKGtleWRvd24pJzogJ29uS2V5RG93bigkZXZlbnQpJyB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6IFwiXFxuICAgIDxkaXYgKm5nSWY9XFxcImRhdGVwaWNrZXIuc2hvd1dlZWtkYXlzXFxcIiBjbGFzcz1cXFwibmdiLWRwLXdlZWsgbmdiLWRwLXdlZWtkYXlzXFxcIiByb2xlPVxcXCJyb3dcXFwiPlxcbiAgICAgIDxkaXYgKm5nSWY9XFxcImRhdGVwaWNrZXIuc2hvd1dlZWtOdW1iZXJzXFxcIiBjbGFzcz1cXFwibmdiLWRwLXdlZWtkYXkgbmdiLWRwLXNob3d3ZWVrXFxcIj48L2Rpdj5cXG4gICAgICA8ZGl2ICpuZ0Zvcj1cXFwibGV0IHcgb2Ygdmlld01vZGVsLndlZWtkYXlzXFxcIiBjbGFzcz1cXFwibmdiLWRwLXdlZWtkYXkgc21hbGxcXFwiIHJvbGU9XFxcImNvbHVtbmhlYWRlclxcXCI+XFxuICAgICAgICB7eyBpMThuLmdldFdlZWtkYXlTaG9ydE5hbWUodykgfX1cXG4gICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuICAgIDxuZy10ZW1wbGF0ZSBuZ0ZvciBsZXQtd2VlayBbbmdGb3JPZl09XFxcInZpZXdNb2RlbC53ZWVrc1xcXCI+XFxuICAgICAgPGRpdiAqbmdJZj1cXFwiIXdlZWsuY29sbGFwc2VkXFxcIiBjbGFzcz1cXFwibmdiLWRwLXdlZWtcXFwiIHJvbGU9XFxcInJvd1xcXCI+XFxuICAgICAgICA8ZGl2ICpuZ0lmPVxcXCJkYXRlcGlja2VyLnNob3dXZWVrTnVtYmVyc1xcXCIgY2xhc3M9XFxcIm5nYi1kcC13ZWVrLW51bWJlciBzbWFsbCB0ZXh0LW11dGVkXFxcIj57eyBpMThuLmdldFdlZWtOdW1lcmFscyh3ZWVrLm51bWJlcikgfX08L2Rpdj5cXG4gICAgICAgIDxkaXYgKm5nRm9yPVxcXCJsZXQgZGF5IG9mIHdlZWsuZGF5c1xcXCIgKGNsaWNrKT1cXFwiZG9TZWxlY3QoZGF5KTsgJGV2ZW50LnByZXZlbnREZWZhdWx0KClcXFwiIGNsYXNzPVxcXCJuZ2ItZHAtZGF5XFxcIiByb2xlPVxcXCJncmlkY2VsbFxcXCJcXG4gICAgICAgICAgW2NsYXNzLmRpc2FibGVkXT1cXFwiZGF5LmNvbnRleHQuZGlzYWJsZWRcXFwiXFxuICAgICAgICAgIFt0YWJpbmRleF09XFxcImRheS50YWJpbmRleFxcXCJcXG4gICAgICAgICAgW2NsYXNzLmhpZGRlbl09XFxcImRheS5oaWRkZW5cXFwiXFxuICAgICAgICAgIFtjbGFzcy5uZ2ItZHAtdG9kYXldPVxcXCJkYXkuY29udGV4dC50b2RheVxcXCJcXG4gICAgICAgICAgW2F0dHIuYXJpYS1sYWJlbF09XFxcImRheS5hcmlhTGFiZWxcXFwiPlxcbiAgICAgICAgICA8bmctdGVtcGxhdGUgW25nSWZdPVxcXCIhZGF5LmhpZGRlblxcXCI+XFxuICAgICAgICAgICAgPG5nLXRlbXBsYXRlIFtuZ1RlbXBsYXRlT3V0bGV0XT1cXFwiZGF0ZXBpY2tlci5kYXlUZW1wbGF0ZVxcXCIgW25nVGVtcGxhdGVPdXRsZXRDb250ZXh0XT1cXFwiZGF5LmNvbnRleHRcXFwiPjwvbmctdGVtcGxhdGU+XFxuICAgICAgICAgIDwvbmctdGVtcGxhdGU+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICA8L2Rpdj5cXG4gICAgPC9uZy10ZW1wbGF0ZT5cXG4gIFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlczogW1wibmdiLWRhdGVwaWNrZXItbW9udGh7ZGlzcGxheTpibG9ja30ubmdiLWRwLXdlZWstbnVtYmVyLC5uZ2ItZHAtd2Vla2RheXtsaW5lLWhlaWdodDoycmVtO3RleHQtYWxpZ246Y2VudGVyO2ZvbnQtc3R5bGU6aXRhbGljfS5uZ2ItZHAtd2Vla2RheXtjb2xvcjojNWJjMGRlO2NvbG9yOnZhcigtLWluZm8pfS5uZ2ItZHAtd2Vla3tib3JkZXItcmFkaXVzOi4yNXJlbTtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleH0ubmdiLWRwLXdlZWtkYXlze2JvcmRlci1ib3R0b206MXB4IHNvbGlkIHJnYmEoMCwwLDAsLjEyNSk7Ym9yZGVyLXJhZGl1czowO2JhY2tncm91bmQtY29sb3I6I2Y4ZjlmYTtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWxpZ2h0KX0ubmdiLWRwLWRheSwubmdiLWRwLXdlZWstbnVtYmVyLC5uZ2ItZHAtd2Vla2RheXt3aWR0aDoycmVtO2hlaWdodDoycmVtfS5uZ2ItZHAtZGF5e2N1cnNvcjpwb2ludGVyfS5uZ2ItZHAtZGF5LmRpc2FibGVkLC5uZ2ItZHAtZGF5LmhpZGRlbntjdXJzb3I6ZGVmYXVsdH0ubmdiLWRwLWRheVt0YWJpbmRleD1cXFwiMFxcXCJde3otaW5kZXg6MX1cIl1cclxuICAgICAgICAgICAgICAgIH1dIH1cclxuICAgIF07XHJcbiAgICAvKiogQG5vY29sbGFwc2UgKi9cclxuICAgIE5nYkRhdGVwaWNrZXJNb250aC5jdG9yUGFyYW1ldGVycyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFtcclxuICAgICAgICB7IHR5cGU6IE5nYkRhdGVwaWNrZXJJMThuIH0sXHJcbiAgICAgICAgeyB0eXBlOiBOZ2JEYXRlcGlja2VyIH0sXHJcbiAgICAgICAgeyB0eXBlOiBOZ2JEYXRlcGlja2VyS2V5Ym9hcmRTZXJ2aWNlIH0sXHJcbiAgICAgICAgeyB0eXBlOiBOZ2JEYXRlcGlja2VyU2VydmljZSB9XHJcbiAgICBdOyB9O1xyXG4gICAgTmdiRGF0ZXBpY2tlck1vbnRoLnByb3BEZWNvcmF0b3JzID0ge1xyXG4gICAgICAgIG1vbnRoOiBbeyB0eXBlOiBJbnB1dCB9XVxyXG4gICAgfTtcclxuICAgIHJldHVybiBOZ2JEYXRlcGlja2VyTW9udGg7XHJcbn0oKSk7XHJcbmV4cG9ydCB7IE5nYkRhdGVwaWNrZXJNb250aCB9O1xyXG5pZiAoZmFsc2UpIHtcclxuICAgIC8qKiBAdHlwZSB7P30gKi9cclxuICAgIE5nYkRhdGVwaWNrZXJNb250aC5wcm90b3R5cGUudmlld01vZGVsO1xyXG4gICAgLyoqIEB0eXBlIHs/fSAqL1xyXG4gICAgTmdiRGF0ZXBpY2tlck1vbnRoLnByb3RvdHlwZS5pMThuO1xyXG4gICAgLyoqIEB0eXBlIHs/fSAqL1xyXG4gICAgTmdiRGF0ZXBpY2tlck1vbnRoLnByb3RvdHlwZS5kYXRlcGlja2VyO1xyXG4gICAgLyoqXHJcbiAgICAgKiBAdHlwZSB7P31cclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIE5nYkRhdGVwaWNrZXJNb250aC5wcm90b3R5cGUuX2tleWJvYXJkU2VydmljZTtcclxuICAgIC8qKlxyXG4gICAgICogQHR5cGUgez99XHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXHJcbiAgICBOZ2JEYXRlcGlja2VyTW9udGgucHJvdG90eXBlLl9zZXJ2aWNlO1xyXG59XHIiXX0=