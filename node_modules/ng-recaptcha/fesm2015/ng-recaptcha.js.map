{"version":3,"file":"ng-recaptcha.js","sources":["ng://ng-recaptcha/recaptcha/recaptcha-loader.service.ts","ng://ng-recaptcha/recaptcha/recaptcha-settings.ts","ng://ng-recaptcha/recaptcha/recaptcha.component.ts","ng://ng-recaptcha/recaptcha/recaptcha-common.module.ts","ng://ng-recaptcha/recaptcha/recaptcha.module.ts","ng://ng-recaptcha/recaptcha/recaptcha-v3.service.ts","ng://ng-recaptcha/recaptcha/recaptcha-v3.module.ts","ng://ng-recaptcha/recaptcha/recaptcha-value-accessor.directive.ts","ng://ng-recaptcha/recaptcha/recaptcha-forms.module.ts","ng://ng-recaptcha/ng-recaptcha.ts"],"sourcesContent":["import { isPlatformBrowser } from '@angular/common';\nimport {\n  Inject,\n  Injectable,\n  InjectionToken,\n  Optional,\n  PLATFORM_ID,\n} from '@angular/core';\nimport { BehaviorSubject, Observable, of } from 'rxjs';\n\nexport const RECAPTCHA_LANGUAGE = new InjectionToken<string>('recaptcha-language');\nexport const RECAPTCHA_BASE_URL = new InjectionToken<string>('recaptcha-base-url');\nexport const RECAPTCHA_NONCE = new InjectionToken<string>('recaptcha-nonce-tag');\n\ndeclare global {\n  interface Window {\n    ng2recaptchaloaded: () => void;\n  }\n}\n\nexport function loadScript(\n  renderMode: 'explicit' | string,\n  onLoaded: (grecaptcha: ReCaptchaV2.ReCaptcha) => void,\n  urlParams: string,\n  url?: string,\n  nonce?: string,\n) {\n  window.ng2recaptchaloaded = () => {\n    onLoaded(grecaptcha);\n  };\n  const script = document.createElement('script');\n  script.innerHTML = '';\n  const baseUrl = url || 'https://www.google.com/recaptcha/api.js';\n\n  script.src = `${baseUrl}?render=${renderMode}&onload=ng2recaptchaloaded${urlParams}`;\n  if (nonce) {\n    // tslint:disable-next-line:no-any Remove \"any\" cast once we upgrade Angular to 7 and TypeScript along with it\n    (script as any).nonce = nonce;\n  }\n  script.async = true;\n  script.defer = true;\n  document.head.appendChild(script);\n}\n\n@Injectable()\nexport class RecaptchaLoaderService {\n  /**\n   * @internal\n   * @nocollapse\n   */\n  private static ready: BehaviorSubject<ReCaptchaV2.ReCaptcha> = null;\n\n  public ready: Observable<ReCaptchaV2.ReCaptcha>;\n\n  /** @internal */\n  private language: string;\n  /** @internal */\n  private baseUrl: string;\n  /** @internal */\n  private nonce: string;\n\n  constructor(\n    // tslint:disable-next-line:no-any\n    @Inject(PLATFORM_ID) private readonly platformId: any,\n    @Optional() @Inject(RECAPTCHA_LANGUAGE) language?: string,\n    @Optional() @Inject(RECAPTCHA_BASE_URL) baseUrl?: string,\n    @Optional() @Inject(RECAPTCHA_NONCE) nonce?: string,\n  ) {\n    this.language = language;\n    this.baseUrl = baseUrl;\n    this.nonce = nonce;\n    this.init();\n    this.ready = isPlatformBrowser(this.platformId) ? RecaptchaLoaderService.ready.asObservable() : of();\n  }\n\n  /** @internal */\n  private init() {\n    if (RecaptchaLoaderService.ready) {\n      return;\n    }\n    if (isPlatformBrowser(this.platformId)) {\n      const subject = new BehaviorSubject<ReCaptchaV2.ReCaptcha>(null);\n      RecaptchaLoaderService.ready = subject;\n      const langParam = this.language ? '&hl=' + this.language : '';\n      loadScript('explicit', (grecaptcha) => subject.next(grecaptcha), langParam, this.baseUrl, this.nonce);\n    }\n  }\n}\n","import { InjectionToken } from '@angular/core';\n\nexport const RECAPTCHA_SETTINGS = new InjectionToken<RecaptchaSettings>('recaptcha-settings');\n\nexport interface RecaptchaSettings {\n  siteKey?: string;\n  theme?: ReCaptchaV2.Theme;\n  type?: ReCaptchaV2.Type;\n  size?: ReCaptchaV2.Size;\n  badge?: ReCaptchaV2.Badge;\n}\n","import {\n  AfterViewInit,\n  Component,\n  ElementRef,\n  EventEmitter,\n  HostBinding,\n  Inject,\n  Input,\n  NgZone,\n  OnDestroy,\n  Optional,\n  Output,\n} from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { RecaptchaLoaderService } from './recaptcha-loader.service';\nimport { RECAPTCHA_SETTINGS, RecaptchaSettings } from './recaptcha-settings';\n\nlet nextId = 0;\n\n@Component({\n  exportAs: 'reCaptcha',\n  selector: 're-captcha',\n  template: ``,\n})\nexport class RecaptchaComponent implements AfterViewInit, OnDestroy {\n  @Input()\n  @HostBinding('attr.id')\n  public id = `ngrecaptcha-${nextId++}`;\n\n  @Input() public siteKey: string;\n  @Input() public theme: ReCaptchaV2.Theme;\n  @Input() public type: ReCaptchaV2.Type;\n  @Input() public size: ReCaptchaV2.Size;\n  @Input() public tabIndex: number;\n  @Input() public badge: ReCaptchaV2.Badge;\n\n  @Output() public resolved = new EventEmitter<string>();\n\n  /** @internal */\n  private subscription: Subscription;\n  /** @internal */\n  private widget: number;\n  /** @internal */\n  private grecaptcha: ReCaptchaV2.ReCaptcha;\n  /** @internal */\n  private executeRequested: boolean;\n\n  constructor(\n    private elementRef: ElementRef,\n    private loader: RecaptchaLoaderService,\n    private zone: NgZone,\n    @Optional() @Inject(RECAPTCHA_SETTINGS) settings?: RecaptchaSettings,\n  ) {\n    if (settings) {\n      this.siteKey = settings.siteKey;\n      this.theme = settings.theme;\n      this.type = settings.type;\n      this.size = settings.size;\n      this.badge = settings.badge;\n    }\n  }\n\n  public ngAfterViewInit() {\n    this.subscription = this.loader.ready.subscribe((grecaptcha: ReCaptchaV2.ReCaptcha) => {\n      if (grecaptcha != null && grecaptcha.render instanceof Function) {\n        this.grecaptcha = grecaptcha;\n        this.renderRecaptcha();\n      }\n    });\n  }\n\n  public ngOnDestroy() {\n    // reset the captcha to ensure it does not leave anything behind\n    // after the component is no longer needed\n    this.grecaptchaReset();\n    if (this.subscription) {\n      this.subscription.unsubscribe();\n    }\n  }\n\n  /**\n   * Executes the invisible recaptcha.\n   * Does nothing if component's size is not set to \"invisible\".\n   */\n  public execute(): void {\n    if (this.size !== 'invisible') {\n      return;\n    }\n\n    if (this.widget != null) {\n      this.grecaptcha.execute(this.widget);\n    } else {\n      // delay execution of recaptcha until it actually renders\n      this.executeRequested = true;\n    }\n  }\n\n  public reset() {\n    if (this.widget != null) {\n      if (this.grecaptcha.getResponse(this.widget)) {\n        // Only emit an event in case if something would actually change.\n        // That way we do not trigger \"touching\" of the control if someone does a \"reset\"\n        // on a non-resolved captcha.\n        this.resolved.emit(null);\n      }\n\n      this.grecaptchaReset();\n    }\n  }\n\n  /** @internal */\n  private expired() {\n    this.resolved.emit(null);\n  }\n\n  /** @internal */\n  private captchaResponseCallback(response: string) {\n    this.resolved.emit(response);\n  }\n\n  /** @internal */\n  private grecaptchaReset() {\n    if (this.widget != null) {\n      this.zone.runOutsideAngular(() => this.grecaptcha.reset(this.widget));\n    }\n  }\n\n  /** @internal */\n  private renderRecaptcha() {\n    this.widget = this.grecaptcha.render(this.elementRef.nativeElement, {\n      badge: this.badge,\n      callback: (response: string) => {\n        this.zone.run(() => this.captchaResponseCallback(response));\n      },\n      'expired-callback': () => {\n        this.zone.run(() => this.expired());\n      },\n      sitekey: this.siteKey,\n      size: this.size,\n      tabindex: this.tabIndex,\n      theme: this.theme,\n      type: this.type,\n    });\n\n    if (this.executeRequested === true) {\n      this.executeRequested = false;\n      this.execute();\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\n\nimport { RecaptchaComponent } from './recaptcha.component';\n\n@NgModule({\n  declarations: [\n    RecaptchaComponent,\n  ],\n  exports: [\n    RecaptchaComponent,\n  ],\n})\nexport class RecaptchaCommonModule {\n}\n","import { NgModule } from '@angular/core';\n\nimport { RecaptchaCommonModule } from './recaptcha-common.module';\nimport { RecaptchaLoaderService } from './recaptcha-loader.service';\nimport { RecaptchaComponent } from './recaptcha.component';\n\n@NgModule({\n  exports: [\n    RecaptchaComponent,\n  ],\n  imports: [\n    RecaptchaCommonModule,\n  ],\n  providers: [\n    RecaptchaLoaderService,\n  ],\n})\nexport class RecaptchaModule {\n  // We need this to maintain backwards-compatibility with v4. Removing this will be a breaking change\n  public static forRoot() {\n    return RecaptchaModule;\n  }\n}\n","import { isPlatformBrowser } from '@angular/common';\nimport { Inject, Injectable, InjectionToken, NgZone, Optional, PLATFORM_ID } from '@angular/core';\nimport { Observable, Subject } from 'rxjs';\n\nimport { loadScript, RECAPTCHA_BASE_URL, RECAPTCHA_NONCE } from './recaptcha-loader.service';\n\nexport const RECAPTCHA_V3_SITE_KEY = new InjectionToken<string>('recaptcha-v3-site-key');\n\nexport interface OnExecuteData {\n  /**\n   * The name of the action that has been executed.\n   */\n  action: string;\n  /**\n   * The token that reCAPTCHA v3 provided when executing the action.\n   */\n  token: string;\n}\n\ntype ActionBacklogEntry = [string, Subject<string>];\n\n/**\n * The main service for working with reCAPTCHA v3 APIs.\n *\n * Use the `execute` method for executing a single action, and\n * `onExecute` observable for listening to all actions at once.\n */\n@Injectable()\nexport class ReCaptchaV3Service {\n  /** @internal */\n  private readonly isBrowser: boolean;\n  /** @internal */\n  private readonly siteKey: string;\n  /** @internal */\n  private readonly zone: NgZone;\n  /** @internal */\n  private actionBacklog: ActionBacklogEntry[] | undefined;\n  /** @internal */\n  private nonce: string;\n  /** @internal */\n  private baseUrl: string;\n  /** @internal */\n  private grecaptcha: ReCaptchaV2.ReCaptcha;\n\n  /** @internal */\n  private onExecuteSubject: Subject<OnExecuteData>;\n  /** @internal */\n  private onExecuteObservable: Observable<OnExecuteData>;\n\n  constructor(\n    zone: NgZone,\n    @Inject(RECAPTCHA_V3_SITE_KEY) siteKey: string,\n    // tslint:disable-next-line:no-any\n    @Inject(PLATFORM_ID) platformId: any,\n    @Optional() @Inject(RECAPTCHA_BASE_URL) baseUrl?: string,\n    @Optional() @Inject(RECAPTCHA_NONCE) nonce?: string,\n  ) {\n    this.zone = zone;\n    this.isBrowser = isPlatformBrowser(platformId);\n    this.siteKey = siteKey;\n    this.nonce = nonce;\n    this.baseUrl = baseUrl;\n\n    this.init();\n  }\n\n  public get onExecute(): Observable<OnExecuteData> {\n    if (!this.onExecuteSubject) {\n      this.onExecuteSubject = new Subject<OnExecuteData>();\n      this.onExecuteObservable = this.onExecuteSubject.asObservable();\n    }\n\n    return this.onExecuteObservable;\n  }\n\n  /**\n   * Executes the provided `action` with reCAPTCHA v3 API.\n   * Use the emitted token value for verification purposes on the backend.\n   *\n   * For more information about reCAPTCHA v3 actions and tokens refer to the official documentation at\n   * https://developers.google.com/recaptcha/docs/v3.\n   *\n   * @param {string} action the action to execute\n   * @returns {Observable<string>} an `Observable` that will emit the reCAPTCHA v3 string `token` value whenever ready.\n   * The returned `Observable` completes immediately after emitting a value.\n   */\n  public execute(action: string): Observable<string> {\n    const subject = new Subject<string>();\n    if (this.isBrowser) {\n      if (!this.grecaptcha) {\n        // todo: add to array of later executions\n        if (!this.actionBacklog) {\n          this.actionBacklog = [];\n        }\n\n        this.actionBacklog.push([action, subject]);\n      } else {\n        this.executeActionWithSubject(action, subject);\n      }\n    }\n\n    return subject.asObservable();\n  }\n\n  /** @internal */\n  private executeActionWithSubject(action: string, subject: Subject<string>): void {\n    this.zone.runOutsideAngular(() => {\n      // tslint:disable-next-line:no-any\n      (this.grecaptcha.execute as any)(\n        this.siteKey,\n        { action },\n      ).then((token: string) => {\n        this.zone.run(() => {\n          subject.next(token);\n          subject.complete();\n          if (this.onExecuteSubject) {\n            this.onExecuteSubject.next({ action, token });\n          }\n        });\n      });\n    });\n  }\n\n  /** @internal */\n  private init() {\n    if (this.isBrowser) {\n      if ('grecaptcha' in window) {\n        this.grecaptcha = grecaptcha;\n      } else {\n        loadScript(this.siteKey, this.onLoadComplete, '', this.baseUrl, this.nonce);\n      }\n    }\n  }\n\n  /** @internal */\n  private onLoadComplete = (grecaptcha: ReCaptchaV2.ReCaptcha) => {\n    this.grecaptcha = grecaptcha;\n    if (this.actionBacklog && this.actionBacklog.length > 0) {\n      this.actionBacklog.forEach(([action, subject]) => this.executeActionWithSubject(action, subject));\n      this.actionBacklog = undefined;\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\n\nimport { ReCaptchaV3Service } from './recaptcha-v3.service';\n\n@NgModule({\n  providers: [\n    ReCaptchaV3Service,\n  ],\n})\nexport class RecaptchaV3Module {\n}\n","import {\n  Directive,\n  forwardRef,\n  HostListener,\n} from '@angular/core';\nimport {\n  ControlValueAccessor,\n  NG_VALUE_ACCESSOR,\n} from '@angular/forms';\n\nimport { RecaptchaComponent } from './recaptcha.component';\n\n@Directive({\n  providers: [\n    {\n      multi: true,\n      provide: NG_VALUE_ACCESSOR,\n      // tslint:disable-next-line:no-forward-ref\n      useExisting: forwardRef(() => RecaptchaValueAccessorDirective),\n    },\n  ],\n  // tslint:disable-next-line:directive-selector\n  selector: 're-captcha[formControlName],re-captcha[formControl],re-captcha[ngModel]',\n})\nexport class RecaptchaValueAccessorDirective implements ControlValueAccessor {\n  /** @internal */\n  private onChange: (value: string) => void;\n\n  /** @internal */\n  private onTouched: () => void;\n\n  constructor(private host: RecaptchaComponent) { }\n\n  public writeValue(value: string): void {\n    if (!value) {\n      this.host.reset();\n    }\n  }\n\n  public registerOnChange(fn: (value: string) => void): void { this.onChange = fn; }\n  public registerOnTouched(fn: () => void): void { this.onTouched = fn; }\n\n  @HostListener('resolved', ['$event']) public onResolve($event: string) {\n    if (this.onChange) {\n      this.onChange($event);\n    }\n    if (this.onTouched) {\n      this.onTouched();\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\n\nimport { RecaptchaCommonModule } from './recaptcha-common.module';\nimport { RecaptchaValueAccessorDirective } from './recaptcha-value-accessor.directive';\n\n@NgModule({\n  declarations: [\n    RecaptchaValueAccessorDirective,\n  ],\n  exports: [RecaptchaValueAccessorDirective],\n  imports: [FormsModule, RecaptchaCommonModule],\n})\nexport class RecaptchaFormsModule {\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n\nexport {RecaptchaCommonModule as Éµa} from './recaptcha/recaptcha-common.module';"],"names":["tslib_1.__param","tslib_1.__decorate"],"mappings":"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"}