<div style="position: relative">
  <ngx-spinner
    size = "default"
    color = "#FCBB44"
    type = "ball-beat"
    [fullScreen] = "true"
  >
    <p style="color: white" > Loading... </p>
  </ngx-spinner>
</div>
<div class="col-md-4 grid-margin " *ngIf="mainPage">
  <nav aria-label="breadcrumb" role="navigation">
    <ol class="breadcrumb breadcrumb-custom">
      <li class="breadcrumb-item"><a >Home</a></li>
      <li class="breadcrumb-item active" aria-current="page"><span>User List</span></li>
    </ol>
  </nav>
</div>
<div class="" *ngIf="mainPage">
  <div class="card">
    <div class="card-body">
<div class="row">
  <div class="col">
  <div class="form-group col-sm-4">
    <label for="Network">Admin Role</label>
    <select class="form-control" id="Network" [(ngModel)]="adminList.roles"  (change)="selectedRole($event)" >
      <option *ngFor="let i of adminRoles.roles" [ngValue]="i">{{i}}</option>
    </select>
  </div>
</div>
</div>
      <div class="table-responsive">
<table class="table table-striped" >
  <thead>
  <tr>
    <th scope="col">Full Name</th>
    <th scope="col">User Name</th>
    <th scope="col">Phone<br>Number</th>
    <th scope="col">Reset<br>Password</th>
    <th scope="col">Add To<br>Role</th>
    <th scope="col">Remove<br>From Role</th>
    <th scope="col">Detail</th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let i of roleList">
    <td>{{i.fullName}}</td>
    <td>{{i.userName}}</td>
    <td>{{i.phoneNumber}}</td>
    <td>
      <button type="button" class="btn btn-outline-warning" data-toggle="modal" data-target="#reset" (click)="userResetPassword(i)" >
        <i class="fa fa-key" aria-hidden="true"></i>
      </button>
    </td>
    <td>
      <button type="button" class="btn btn-outline-primary" data-toggle="modal" data-target="#add" (click)="userAddToRole(i)">
        <i class="fa fa-plus" aria-hidden="true"></i>
      </button>
    </td>
    <td>
      <button type="button" class="btn btn-outline-danger" data-toggle="modal" data-target="#remove" (click)="userRemoveFromRole(i)" >
        <i class="fa fa-minus" aria-hidden="true"></i>
      </button>
    </td>
    <td>
      <button type="button" class="btn btn-outline-secondary"  (click)="userDetail(i)">
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </button>
    </td>
  </tr>
  </tbody>
</table>
    </div>
    </div>
  </div>
</div>

<div class="col-md-4 grid-margin " *ngIf="!mainPage">
<nav aria-label="breadcrumb" role="navigation">
  <ol class="breadcrumb breadcrumb-custom">
    <li class="breadcrumb-item"><a >Home</a></li>
    <li class="breadcrumb-item"><a >User List</a></li>
    <li class="breadcrumb-item active" aria-current="page"><span>Detail</span></li>
  </ol>
</nav>
</div>

<div class="row" *ngIf="!mainPage">
  <div class="col-2" style="text-align: left">
    <button type="button" class="btn btn-outline-warning"  (click)="userBack()">
      <i class="fa fa-chevron-left" aria-hidden="true"></i> Back
    </button>
  </div>
</div>
<br>

<app-detail [userList]="userRoleList" *ngIf="detailSubmitted"></app-detail>

<div class="modal fade" id="reset" tabindex="-1" role="dialog" aria-labelledby="resetModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="resetModalLabel">Reset Password</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="card ">
          <div class="card-body">
            <div class="form-row">
              <div class="col-sm">
                <label for="email">Email</label>
                <input type="email" class="form-control" [placeholder]="userRoleList.email" id="email"  disabled>
              </div>
              <div class="col-sm">
                <label for="pass">New Password</label>
                <input type="password" class="form-control" placeholder="New Password" id="pass"  [(ngModel)]="reset.newPassword">
              </div>
            </div>
            <div class="form-row">
              <div class="col-sm"></div>
              <div class="col-sm">
                <div class="row">
                  <div class="col-sm">
                    <div class="form-check">
                      <input type="checkbox" class="form-check-input" id="exampleCheck1" [(ngModel)]="PasswordTooShort" disabled>
                      <label class="form-check-label" for="exampleCheck1" style="font-size: 12px; color: red">Password Too Short</label>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-sm">
                    <div class="form-check">
                      <input type="checkbox" class="form-check-input" id="exampleCheck" [(ngModel)]="PasswordRequiresNonAlphanumeric" disabled>
                      <label class="form-check-label" for="exampleCheck" style="font-size: 12px; color: red">Password Requires Non Alphanumeric</label>
                    </div>
                  </div>
                </div>
                  <div class="row">
                  <div class="col-sm">
                    <div class="form-check">
                      <input type="checkbox" class="form-check-input" id="exampleCheck2" [(ngModel)]="PasswordRequiresDigit" disabled>
                      <label class="form-check-label" for="exampleCheck2" style="font-size: 12px; color: red">Password Requires Digit</label>
                    </div>
                  </div>
                  </div>
                    <div class="row">
                  <div class="col-sm">
                    <div class="form-check">
                      <input type="checkbox" class="form-check-input" id="exampleCheck3" [(ngModel)]="PasswordRequiresUpper" disabled>
                      <label class="form-check-label" for="exampleCheck3" style="font-size: 12px; color: red">Password Requires Upper</label>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-success"  (click)="resetSubmit()">Reset</button>
        <button type="button" class="btn btn-danger" data-dismiss="modal">Cancel</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="add" tabindex="-1" role="dialog" aria-labelledby="addModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="addModalLabel">Add To Role</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="card">
          <div class="card-body">
            <div class="form-row">
              <div class="col-sm">
                <label for="email1">Email</label>
                <input type="email" class="form-control" [placeholder]="userRoleList.email" id="email1"  disabled>
              </div>
              <div class="col-sm">
                <label for="role">Role</label>
                <select class="form-control" id="role" [(ngModel)]="add.role"  >
                  <option *ngFor="let i of adminRoles.roles" [ngValue]="i">{{i}}</option>
                </select>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-success" data-dismiss="modal" (click)="addSubmit()">Add</button>
        <button type="button" class="btn btn-danger" data-dismiss="modal">Cancel</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="remove" tabindex="-1" role="dialog" aria-labelledby="removeModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="removeModalLabel">Remove From Role</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="card">
          <div class="card-body">
            <div class="form-row">
              <div class="col-sm">
                <label for="email2">Email</label>
                <input type="email" class="form-control" [placeholder]="userRoleList.email" id="email2"  disabled>
              </div>
              <div class="col-sm">
                <label for="role2">Role</label>
                <select class="form-control" id="role2" [(ngModel)]="remove.role">
                  <option *ngFor="let i of adminRoles.roles" [ngValue]="i">{{i}}</option>
                </select>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-success" data-dismiss="modal" (click)="removeSubmit()">Remove</button>
        <button type="button" class="btn btn-danger" data-dismiss="modal">Cancel</button>
      </div>
    </div>
  </div>
</div>
